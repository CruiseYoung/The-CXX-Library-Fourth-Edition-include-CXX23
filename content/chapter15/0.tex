\myGraphic{0.6}{content/chapter15/images/1.jpg}{Cippi正在分析雪地里的脚印}

\href{http://en.cppreference.com/w/cpp/regex}{正则表达式}是描述文本模式的语言，其需要头文件<regex>。

正则表达式是执行以下任务的强大工具:

\begin{itemize}
\item 
检查文本是否与文本模式匹配: std::regex\_match

\item 
在文本中搜索文本模式: std::regex\_search

\item 
将文本模式替换为文本: std::regex\_replace

\item 
遍历文本中的所有文本模式: std::regex\_iterator 和 std::regex\_token\_iterator
\end{itemize}

C++支持六种不同的正则表达式语法。默认情况下，使用ECMAScript语法。这是六种语法中最强大的语法，与Perl 5中使用的语法非常相似。其他五种语法是基本语法、扩展语法、awk语法、grep语法和egrep语法。

\begin{myTip}{使用原始字符串}
正则表达式中使用原始字符串文字。C++文本的正则表达式非常难懂:C\verb|\\|+\verb|\\|+。每个+号必须使用两个反斜杠。首先，+号是正则表达式中的唯一字符。其次，反斜杠是字符串中的一个特殊字符。因此，一个反斜杠转义+号，另一个反斜杠转义反斜杠。通过使用原始字符串字面值，第二个反斜杠不再是必要的，因为反斜杠在字符串中不会转义。

\begin{cpp}
#include <regex>
...
std::string regExpr("C\\+\\+");
std::string regExprRaw(R"(C\+\+)");
\end{cpp}

\end{myTip}

处理正则表达式通常分三步完成:

\begin{enumerate}[label=\Roman*.]
\item 
定义正则表达式:

\begin{cpp}
std::string text="C++ or c++.";
std::string regExpr(R"(C\+\+)");
std::regex rgx(regExpr);
\end{cpp}

\item 
存储搜索结果:

\begin{cpp}
std::smatch result;
std::regex_search(text, result, rgx);
\end{cpp}

\item 
处理结果:

\begin{cpp}
std::cout << result[0] << '\n';
\end{cpp}

\end{enumerate}















